(this["webpackJsonpreactive-garden"]=this["webpackJsonpreactive-garden"]||[]).push([[0],{25:function(e,t,l){e.exports=l(37)},30:function(e,t,l){},37:function(e,t,l){"use strict";l.r(t);var n=l(0),a=l.n(n),r=l(21),o=l.n(r),i=(l(30),l(3)),s=l(4),u=l(6),c=l(5),m=l(7),p=l(14),h=l(11),f=l(16),g=l.n(f),E=l(1),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.line,l=e.color,n="M "+t.map((function(e){return e.get("x")+" "+e.get("y")})).join(" L ");return a.a.createElement("path",{className:"path",stroke:l,d:n})}}]),t}(n.Component),d=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.turtleLines,t=this.props.visibility;return a.a.createElement("div",null,a.a.createElement("svg",{className:t},e.map((function(e,t){return a.a.createElement(F,{key:t,line:e.get("line"),color:e.get("color")})}))))}}]),t}(n.Component),b=function(e){function t(e){var l;return Object(i.a)(this,t),(l=Object(u.a)(this,Object(c.a)(t).call(this,e))).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},l.state={turtleInstructions:E.a.List(),turtleLines:E.a.List(),needsToGrow:!1},l}return Object(m.a)(t,e),Object(s.a)(t,[{key:"drawLSystem",value:function(){var e=this,t=this.props.rule,l=t.axiom,n=!0,a=[];"grow"in this.props&&(n="true"===this.props.grow.toLowerCase());var r=!0,o=!1,i=void 0;try{for(var s,u=t.replacements.split(",")[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value.split("="),m={findString:c[0].replace(/\(/,"").trim(),newString:c[1].replace(/\)/,"").trim()};a.push(m)}}catch(f){o=!0,i=f}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}for(var p=function(){var r=e.expandInstructions(l,a,h,!1);if(n||h===t.loops-1){var o=e.runTurtle(r);e.setState((function(e){return{turtleInstructions:e.turtleInstructions.push(r),turtleLines:e.turtleLines.push(o)}}))}l=r},h=0;h<t.loops;h++){p()}this.setState((function(e){return{needsToGrow:!0}}))}},{key:"expandInstructions",value:function(e,t,l,n){var a="";n&&(console.log("----------------"),console.log(" Generation "+l),console.log("Starting with: "+e));var r=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,m=!1;if("!"===c)a+="!*",n&&console.log("Replacing ! with !*");else{var p=!0,h=!1,f=void 0;try{for(var g,E=t[Symbol.iterator]();!(p=(g=E.next()).done);p=!0){var F=g.value;if(F.findString===c){m=!0,a+=F.newString,n&&console.log("Replacing "+F.findString+" with "+F.newString);break}}}catch(d){h=!0,f=d}finally{try{p||null==E.return||E.return()}finally{if(h)throw f}}m||(n&&console.log("Adding "+c+" as is"),a+=c)}}}catch(d){o=!0,i=d}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n&&(console.log("Final expansion: "),console.log(a)),a}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"runTurtle",value:function(e){var t=e,l=this.props.rule,n="colorful"in this.props&&"true"===this.props.colorful.toLowerCase(),a="random";"fColor"in l&&(a=l.fColor),a=a.toUpperCase();var r="random";"gColor"in l&&(r=l.gColor),r=r.toUpperCase();var o="random";"bangColor"in l&&(o=l.bangColor),o=o.toUpperCase();for(var i=90,s=Number(l.startX),u=Number(l.startY),c=E.a.Stack(),m={visibility:"hidden drawArea",lines:E.a.List()},p=Number(l.angle),h=Number(l.step),f=1,g="#000000",F=0;F<t.length;F++){var d=t.charAt(F).toUpperCase();if(n&&(f=Math.floor(Math.random()*Math.floor(9999)),g="#00"+String(f).padStart(4,"0")),"F"===d||"G"===d){var b=new E.a.Map({x:s,y:u});s+=h*Math.cos(this.toRadians(i)),u-=h*Math.sin(this.toRadians(i));var C=new E.a.Map({x:s,y:u});"F"===d&&"RANDOM"!==a&&(g=a),"G"===d&&"RANDOM"!==r&&(g=r),m.lines=m.lines.push(E.a.Map({line:E.a.List([b,C]),color:g}))}else if("!"===d){for(var v=1;F+v<t.length&&"*"===t.charAt(F+v);)v+=1;F=F+v-1,"RANDOM"!==o&&(g=o);var y=new E.a.Map({x:s,y:u});s+=h*v*Math.cos(this.toRadians(i)),u-=h*v*Math.sin(this.toRadians(i));var G=new E.a.Map({x:s,y:u});m.lines=m.lines.push(E.a.Map({line:E.a.List([y,G]),color:g}))}else if("+"===d)i+=p;else if("-"===d)i-=p;else if("["===d){var x={X:s,Y:u,A:i};c=c.push(x)}else if("]"===d){var S=c.first();c=c.pop(),s=S.X,u=S.Y,i=S.A}}return m}},{key:"grow",value:function(){var e,t;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:e=this.state.turtleLines,this.setState((function(e){return{needsToGrow:!1,inGrowth:!0}})),t=0;case 3:if(!(t<e.size)){l.next=12;break}return 0!==t&&(e.get(t-1).visibility="hidden drawArea"),e.get(t).visibility="drawArea",this.setState((function(t){return{turtleLines:e}})),l.next=9,g.a.awrap(this.sleep(250));case 9:t++,l.next=3;break;case 12:case"end":return l.stop()}}),null,this)}},{key:"UNSAFE_componentWillMount",value:function(){this.drawLSystem()}},{key:"componentDidMount",value:function(){this.grow()}},{key:"shouldComponentUpdate",value:function(e,t){return e.rule!==this.props.rule||this.state.needsToGrow||this.state.inGrowth}},{key:"componentDidUpdate",value:function(e,t){e.rule!==this.props.rule?(this.setState((function(e){return{turtleInstructions:E.a.List(),turtleLines:E.a.List(),needsToGrow:!1,inGrowth:!1}})),this.drawLSystem()):this.state.needsToGrow&&this.grow()}},{key:"render",value:function(){var e=this.state.turtleLines;return a.a.createElement("div",null,e.map((function(e,t){return a.a.createElement(d,{key:t,visibility:e.visibility,turtleLines:e.lines})})))}}]),t}(n.Component),C=l(22),v=function(e){function t(e){var l;return Object(i.a)(this,t),(l=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,a=t.value;l.setState(Object(C.a)({},n,a))},l.fillRules=function(e){l.setState(e,(function(){return l.submitForm()}))},l.submitForm=function(){l.props.handleSubmit(l.state)},l.initialState={angle:e.rule.angle,step:e.rule.step,axiom:e.rule.axiom,replacements:e.rule.replacements,loops:e.rule.loops,startX:e.rule.startX,startY:e.rule.startY,fColor:e.rule.fColor,gColor:e.rule.gColor,bangColor:e.rule.bangColor},l.state=l.initialState,l}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,l=t.angle,n=t.step,r=t.axiom,o=t.replacements,i=t.loops,s=t.startX,u=t.startY,c=t.fColor,m=t.gColor,p=t.bangColor;return a.a.createElement("div",null,a.a.createElement("div",{className:"instructions"},a.a.createElement("h3",null,"Instructions"),'To run an L-System, enter the required information and press "submit". Some notes:',a.a.createElement("ul",null,a.a.createElement("li",null,'The "Replacement Rule" should consist one or more comma-separated replacement rules, of the format "( X = Y )" -- see examples, below'),a.a.createElement("li",null,"The rules use the following symbols:",a.a.createElement("ul",null,a.a.createElement("li",null,"'F' and 'G' each draw a single line segment"),a.a.createElement("li",null,"'+' and '-' rotate the turtle to the left and right respectively (by the defined angle)"),a.a.createElement("li",null,"'[' and ']' store and recall a particular XY coordinate for the turtle (i.e. allow the turtle to return to a previous location)"),a.a.createElement("li",null,"'!' will draw a line segment that is larger if it's older, by a factor of how many generations old it is. In other words, a '!' that is added to the output string in the first loop will be 6 times longer than a '!' that's added to the output string in the sixth loop."),a.a.createElement("li",null,"'X' and 'Y' are no-ops and are used as placeholders in the rules"),a.a.createElement("li",null,"All other characters are ignored"))),a.a.createElement("li",null,"PLEASE don't use more than 6 recursions!"),a.a.createElement("li",null,'If you\'re having trouble seeing the entire resulting drawing, try reducing the "Step Size" to make it smaller'),a.a.createElement("li",null,'You can also use the "F Color", "G Color" and "\'!\' Color" fields to set colors for the various letters. If using hex colors, please include the "#" at the beginning! (Set these to the string \'random\' if you want it to just choose some random colors from the blue-green spectrum for each line.)'),a.a.createElement("li",null,"NOTE: INPUTS ARE NOT CURRENTLY BEING SANITIZED! If you get an error, probably it's a parsing issue. Check your rules in particular."))),a.a.createElement("div",{className:"instructions"},a.a.createElement("h3",null,"L-System rules"),a.a.createElement("form",null,a.a.createElement("label",null,"Axiom (initial string)"),a.a.createElement("input",{type:"text",name:"axiom",size:"10",value:r,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Replacement Rules"),a.a.createElement("input",{type:"text",name:"replacements",size:"50",value:o,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Angle for Turns"),a.a.createElement("input",{type:"text",name:"angle",size:"5",value:l,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Step Size (length of line)"),a.a.createElement("input",{type:"text",name:"step",size:"5",value:n,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Loops (number of recursions)"),a.a.createElement("input",{type:"text",name:"loops",size:"5",value:i,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Initial X Position"),a.a.createElement("input",{type:"text",name:"startX",size:"5",value:s,onChange:this.handleChange}),a.a.createElement("label",null,"Initial Y Position"),a.a.createElement("input",{type:"text",name:"startY",size:"5",value:u,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"'F' Color"),a.a.createElement("input",{type:"text",name:"fColor",size:"8",value:c,onChange:this.handleChange}),a.a.createElement("label",null,"'G' Color"),a.a.createElement("input",{type:"text",name:"gColor",size:"8",value:m,onChange:this.handleChange}),a.a.createElement("label",null,"'!' Color"),a.a.createElement("input",{type:"text",name:"bangColor",size:"8",value:p,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm}))),a.a.createElement("div",{className:"examples"},a.a.createElement("h3",null,"Examples"),a.a.createElement("div",null,"Click on the name to try it out!",a.a.createElement("ul",{className:"columns"},a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"F-G-G",replacements:"(F = F-G+F+G-F), (G = GG)",angle:"120",step:"7",loops:"6",startX:"10",startY:"600",fColor:"#ff3399",gColor:"#336600"})}},a.a.createElement("strong",null,"Sierpinski triangle")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: F-G-G"),a.a.createElement("li",null,"Replacement Rules: (F = F-G+F+G-F), (G = GG)"),a.a.createElement("li",null,"Angle: 120"),a.a.createElement("li",null,"Step Size: 7"),a.a.createElement("li",null,"Loops: 6"),a.a.createElement("li",null,"Initial X: 10"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"!!GF",replacements:"(F=GGG-[-F+F+F]+[+F-F+F])",angle:"20",step:"8",loops:"5",startX:"300",startY:"600",fColor:"#ff3399",gColor:"#336600"})}},a.a.createElement("strong",null,"Thistle")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: !!GF"),a.a.createElement("li",null,"Replacement Rules: (F=GGG-[-F+F+F]+[+F-F+F])"),a.a.createElement("li",null,"Angle: 20"),a.a.createElement("li",null,"Step Size: 8"),a.a.createElement("li",null,"Loops: 4"),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"F",replacements:"(F = ![-----F][+++++++F]+![----F][+++++++F]+![---F][+++++F]+!F)",angle:"6",step:"25",loops:"3",startX:"300",startY:"600",fColor:"#ff3399",gColor:"#336600"})}},a.a.createElement("strong",null,"Thorny bush")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: F"),a.a.createElement("li",null,"Replacement Rules: (F = ![-----F][+++++++F]+![----F][+++++++F]+![---F][+++++F]+!F)"),a.a.createElement("li",null,"Angle: 6"),a.a.createElement("li",null,"Step Size: 25"),a.a.createElement("li",null,"Loops: 3"),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"F",replacements:"(F = G[+F][-F]GF), (G = GG)",angle:"25",step:"4",loops:"6",startX:"300",startY:"600",fColor:"#ff3399",gColor:"#336600"})}},a.a.createElement("strong",null,"Berry bush")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: F"),a.a.createElement("li",null,"Replacement Rules: (F = G[+F][-F]GF), (G = GG)"),a.a.createElement("li",null,"Angle: 25"),a.a.createElement("li",null,"Step Size: 4"),a.a.createElement("li",null,"Loops: 6"),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"X",replacements:"(X = F+[[X]-X]-F[-FX]+X), (F = FF)",angle:"25",step:"3",loops:"6",startX:"300",startY:"600",fColor:"#336600",gColor:"#336600"})}},a.a.createElement("strong",null,"Fractal plant")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: X"),a.a.createElement("li",null,"Replacement Rules: (X = F+[[X]-X]-F[-FX]+X), (F = FF)"),a.a.createElement("li",null,"Angle: 25"),a.a.createElement("li",null,"Step Size: 3"),a.a.createElement("li",null,"Loops: 6"),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"F",replacements:"(G = GG), (F = G[+F]-F)",angle:"25",step:"4",loops:"7",startX:"300",startY:"600",fColor:"#ff3399",gColor:"#336600"})}},a.a.createElement("strong",null,"Binary tree")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: F"),a.a.createElement("li",null,"Replacement Rules: (G = GG), (F = G[+F]-F)"),a.a.createElement("li",null,"Angle: 25"),a.a.createElement("li",null,"Step Size: 4"),a.a.createElement("li",null,"Loops: 7"),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"F",replacements:"(F = F+F-F-F+F)",angle:"90",step:"4",loops:"4",startX:"300",startY:"600",fColor:"#ff3399",gColor:"#336600"})}},a.a.createElement("strong",null,"Koch curve")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: F"),a.a.createElement("li",null,"Replacement Rules: (F = F+F-F-F+F)"),a.a.createElement("li",null,"Angle: 90"),a.a.createElement("li",null,"Step Size: 4"),a.a.createElement("li",null,"Loops: 4"),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){return e.fillRules({axiom:"FX",replacements:"(X = X+YF+), (Y = -FX-Y)",angle:"90",step:"4",loops:"12",startX:"300",startY:"200",fColor:"#ff3399",gColor:"#336600"})}},a.a.createElement("strong",null,"Dragon curve")),a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: FX"),a.a.createElement("li",null,"Replacement Rules: (X = X+YF+), (Y = -FX-Y)"),a.a.createElement("li",null,"Angle: 90"),a.a.createElement("li",null,"Step Size: 4"),a.a.createElement("li",null,"Loops: 12 ",a.a.createElement("i",null,"(Dragons get special dispensation for extra loops)")),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 200")))))))}}]),t}(n.Component),y=function(e){function t(e){var l;return Object(i.a)(this,t),(l=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){l.setState({rule:e})},l.initialState={rule:{angle:"20",step:"8",axiom:"!!GF",replacements:"(F=GGG-[-F+F+F]+[+F-F+F])",loops:"4",startX:"300",startY:"600",fColor:"#ff3399",gColor:"#336600",bangColor:"#336600"}},l.state=l.initialState,l}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.rule;return a.a.createElement("div",null,a.a.createElement("div",{className:"container"},a.a.createElement(v,{handleSubmit:this.handleSubmit,rule:e}),a.a.createElement(b,{rule:e,colorful:"true"})))}}]),t}(n.Component),G=E.a.Map().set("binaryTree",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"1",axiom:"F",replacements:"(G = GG), (F = G[+F]-F)",loops:"6",fColor:"#ff00ff",gColor:"#006600"}}).set("algae",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"20",step:"3",axiom:"F",replacements:"(F = F[+F]F[-F]F)",loops:"3"}}).set("berryBush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"2",axiom:"F",replacements:"(F = G[+F][-F]GF), (G = GG)",loops:"4",fColor:"#660066",gColor:"#446600"}}).set("bush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"5",axiom:"X",replacements:"(X = F-[[X]+X]+F[-FX]+X)",loops:"4"}}).set("dragon",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"90",step:"3",axiom:"FX",replacements:"(X = X+YG+), (Y = -FX-Y), (G = F)",loops:"8",fColor:"#990000",gColor:"#ff6699"}}).set("fractalPlant",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"2",axiom:"X",replacements:"(X = F+[[X]-X]-F[-GX]+X), (F = FF), (G = GG)",loops:"4",fColor:"#004d1a",gColor:"#00e64d"}}).set("thornyBush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"6",step:"5",axiom:"F",replacements:"(F = ![-----F][+++++++F]+![----F][+++++++F]+![---F][+++++F]+!F)",loops:"3",fColor:"#cccc00",bangColor:"#339966"}}).set("bushyTree",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"15",step:"4",axiom:"F",replacements:"(F=FF-[-F+F+F]+[+F-G-G]), (G=F)",loops:"3",fColor:"#996600",gColor:"#ffaa80"}}).set("thistle",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"20",step:"3",axiom:"GF",replacements:"(F=GGG-[-F+F+F]+[+F-F+F])",loops:"3",fColor:"#3399ff",gColor:"#009973",bangColor:"#009973"}}),x=function(e){function t(e){var l;return Object(i.a)(this,t),(l=Object(u.a)(this,Object(c.a)(t).call(this,e))).shuffle=function(){for(var e=G.toList(),t=e.size,n=E.a.List(),a=60;a<=540;a+=120)for(var r=120;r<=600;r+=120){var o=Math.floor(Math.random()*Math.floor(t));n=n.push(Object.assign({},e.get(o).rules,{startX:a,startY:r}))}l.setState({organisms:n})},l.initialState={organisms:E.a.List()},l.state=l.initialState,l}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.shuffle()}},{key:"render",value:function(){var e=this.state.organisms;return a.a.createElement("div",null,a.a.createElement("div",{className:"button"},a.a.createElement("button",{onClick:this.shuffle},"Shuffle")),a.a.createElement("div",{className:"container"},e.map((function(e,t){return a.a.createElement(b,{key:t,rule:e,grow:"0",colorful:"true"})}))))}}]),t}(n.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,null,a.a.createElement("p",null,"Welcome to my garden! This is a safe space for L-System plants to grow and flourish. \xa0 ",a.a.createElement(p.b,{to:"/"},"Home")," | ",a.a.createElement(p.b,{to:"/garden"},"Garden")),a.a.createElement(h.c,null,a.a.createElement(h.a,{path:"/garden"},a.a.createElement(x,null)),a.a.createElement(h.a,{path:"/"},a.a.createElement(y,null))))}}]),t}(n.Component);o.a.render(a.a.createElement(S,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.ada93cc1.chunk.js.map