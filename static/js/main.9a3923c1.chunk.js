(this["webpackJsonpreactive-garden"]=this["webpackJsonpreactive-garden"]||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var l=n(0),a=n.n(l),r=n(9),i=n.n(r),u=(n(16),n(1)),s=n(2),o=n(4),c=n(3),m=n(5),p=n(7),h=n.n(p),E=n(6),f=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="M "+this.props.line.map((function(e){return e.get("x")+" "+e.get("y")})).join(" L ");return a.a.createElement("path",{className:"path",stroke:"black",d:e})}}]),t}(l.Component),v=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.turtleLines,t=this.props.visibility;return a.a.createElement("div",null,a.a.createElement("svg",{className:t},e.map((function(e,t){return a.a.createElement(f,{key:t,line:e})}))))}}]),t}(l.Component),b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.state={turtleInstructions:new E.a.List,turtleLines:new E.a.List,needsToGrow:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"drawLSystem",value:function(){for(var e=this,t=this.props.rule,n=t.axiom,l=function(){var t=e.expandInstructions(n),l=e.runTurtle(t);e.setState((function(e){return{turtleInstructions:e.turtleInstructions.push(t),turtleLines:e.turtleLines.push(l)}})),n=t},a=0;a<t.loops;a++)l();this.setState((function(e){return{needsToGrow:!0}}))}},{key:"expandInstructions",value:function(e){var t="",n=[],l=this.props.rule,a=!0,r=!1,i=void 0;try{for(var u,s=l.replacements.split(",")[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var o=u.value.split("="),c={findString:o[0].replace(/\(/,"").trim(),newString:o[1].replace(/\)/,"").trim()};n.push(c)}}catch(F){r=!0,i=F}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}var m=!0,p=!1,h=void 0;try{for(var E,f=e[Symbol.iterator]();!(m=(E=f.next()).done);m=!0){var v=E.value,b=!1,d=!0,y=!1,g=void 0;try{for(var S,w=n[Symbol.iterator]();!(d=(S=w.next()).done);d=!0){var x=S.value;if(x.findString===v){b=!0,t+=x.newString;break}}}catch(F){y=!0,g=F}finally{try{d||null==w.return||w.return()}finally{if(y)throw g}}b||(t+=v)}}catch(F){p=!0,h=F}finally{try{m||null==f.return||f.return()}finally{if(p)throw h}}return t}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"runTurtle",value:function(e){var t=e,n=this.props.rule,l=90,a=Number(n.startX),r=Number(n.startY),i=E.a.Stack(),u={visibility:"hidden drawArea",lines:E.a.List()},s=Number(n.angle),o=Number(n.step),c=!0,m=!1,p=void 0;try{for(var h,f=t[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var v=h.value;if("F"===v||"G"===v){var b=new E.a.Map({x:a,y:r});a+=o*Math.cos(this.toRadians(l)),r-=o*Math.sin(this.toRadians(l));var d=new E.a.Map({x:a,y:r});u.lines=u.lines.push(E.a.List([b,d]))}else if("+"===v)l+=s;else if("-"===v)l-=s;else if("["===v){var y={X:a,Y:r,A:l};i=i.push(y)}else if("]"===v){var g=i.first();i=i.pop(),a=g.X,r=g.Y,l=g.A}}}catch(S){m=!0,p=S}finally{try{c||null==f.return||f.return()}finally{if(m)throw p}}return u}},{key:"grow",value:function(){var e,t,n;return h.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:e=this.state.turtleLines,t=this.props.rule,this.setState((function(e){return{needsToGrow:!1,inGrowth:!0}})),n=0;case 4:if(!(n<t.loops)){l.next=13;break}return 0!==n&&(e.get(n-1).visibility="hidden drawArea"),e.get(n).visibility="drawArea",this.setState((function(t){return{turtleLines:e}})),l.next=10,h.a.awrap(this.sleep(250));case 10:n++,l.next=4;break;case 13:case"end":return l.stop()}}),null,this)}},{key:"componentWillMount",value:function(){this.drawLSystem()}},{key:"componentDidMount",value:function(){this.grow()}},{key:"shouldComponentUpdate",value:function(e,t){return e.rule!==this.props.rule||this.state.needsToGrow||this.state.inGrowth}},{key:"componentDidUpdate",value:function(e,t){e.rule!==this.props.rule?(this.setState((function(e){return{turtleInstructions:E.a.List(),turtleLines:E.a.List(),needsToGrow:!1,inGrowth:!1}})),this.drawLSystem()):this.state.needsToGrow&&this.grow()}},{key:"render",value:function(){var e=this.state.turtleLines;return a.a.createElement("div",null,e.map((function(e,t){return a.a.createElement(v,{visibility:e.visibility,turtleLines:e.lines})})))}}]),t}(l.Component),d=n(10),y=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){var t=e.target,l=t.name,a=t.value;n.setState(Object(d.a)({},l,a))},n.submitForm=function(){n.props.handleSubmit(n.state)},n.initialState={angle:e.rule.angle,step:e.rule.step,axiom:e.rule.axiom,replacements:e.rule.replacements,loops:e.rule.loops,startX:e.rule.startX,startY:e.rule.startY},n.state=n.initialState,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.angle,n=e.step,l=e.axiom,r=e.replacements,i=e.loops,u=e.startX,s=e.startY;return a.a.createElement("div",{className:"instructions"},a.a.createElement("h3",null,"Instructions"),a.a.createElement("p",null,'To run an L-System, enter the required information and press "submit". Some notes:',a.a.createElement("ul",null,a.a.createElement("li",null,'The "Replacement Rule" should consist one or more comma-separated replacement rules, of the format "( X = Y )" -- see examples, below'),a.a.createElement("li",null,"PLEASE don't use more than 6 recursions!"),a.a.createElement("li",null,'If you\'re having trouble seeing the entire resulting drawing, try reducing the "Step Size" to make it smaller'),a.a.createElement("li",null,"NOTE: INPUTS ARE NOT CURRENTLY BEING SANITIZED! If you get an error, probably it's a parsing issue. Check your rules in particular."))),a.a.createElement("hr",null),a.a.createElement("h3",null,"L-System rules"),a.a.createElement("form",null,a.a.createElement("label",null,"Axiom (initial string)"),a.a.createElement("input",{type:"text",name:"axiom",size:"10",value:l,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Replacement Rules"),a.a.createElement("input",{type:"text",name:"replacements",size:"50",value:r,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Angle for Turns"),a.a.createElement("input",{type:"text",name:"angle",size:"5",value:t,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Step Size (length of line)"),a.a.createElement("input",{type:"text",name:"step",size:"5",value:n,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Loops (number of recursions)"),a.a.createElement("input",{type:"text",name:"loops",size:"5",value:i,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("label",null,"Initial X Position"),a.a.createElement("input",{type:"text",name:"startX",size:"5",value:u,onChange:this.handleChange}),a.a.createElement("label",null,"Initial Y Position"),a.a.createElement("input",{type:"text",name:"startY",size:"5",value:s,onChange:this.handleChange}),a.a.createElement("br",null),a.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm})),a.a.createElement("hr",null),a.a.createElement("h3",null,"Examples"),a.a.createElement("p",null,a.a.createElement("ul",null,a.a.createElement("li",null,"Sierpinski triangle:",a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: F-G-G"),a.a.createElement("li",null,"Replacement Rules: (F = F-G+F+G-F), (G = GG)"),a.a.createElement("li",null,"Angle: 120"),a.a.createElement("li",null,"Step Size: 7"),a.a.createElement("li",null,"Loops: 6"),a.a.createElement("li",null,"Initial X: 10"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,"Fractal plant:",a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: X"),a.a.createElement("li",null,"Replacement Rules: (X = F+[[X]-X]-F[-FX]+X), (F = FF)"),a.a.createElement("li",null,"Angle: 25"),a.a.createElement("li",null,"Step Size: 3"),a.a.createElement("li",null,"Loops: 6"),a.a.createElement("li",null,"Initial X: 200"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,"Koch curve",a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: F"),a.a.createElement("li",null,"Replacement Rules: (F = F+F-F-F+F)"),a.a.createElement("li",null,"Angle: 90"),a.a.createElement("li",null,"Step Size: 4"),a.a.createElement("li",null,"Loops: 4"),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 600"))),a.a.createElement("li",null,"Dragon curve",a.a.createElement("ul",null,a.a.createElement("li",null,"Axiom: FX"),a.a.createElement("li",null,"Replacement Rules: (X = X+YF+), (Y = -FX-Y)"),a.a.createElement("li",null,"Angle: 90"),a.a.createElement("li",null,"Step Size: 4"),a.a.createElement("li",null,"Loops: 12 ",a.a.createElement("i",null,"(Dragons get special dispensation for extra loops)")),a.a.createElement("li",null,"Initial X: 300"),a.a.createElement("li",null,"Initial Y: 200"))))))}}]),t}(l.Component),g=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){n.setState({rule:e})},n.initialState={rule:{angle:"120",step:"7",axiom:"F-G-G",replacements:"(F = F-G+F+G-F), (G = GG)",loops:"6",startX:"10",startY:"600"}},n.state=n.initialState,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.rule;return a.a.createElement("div",null,a.a.createElement("div",{className:"container"},a.a.createElement(y,{handleSubmit:this.handleSubmit,rule:e}),a.a.createElement(b,{rule:e})))}}]),t}(l.Component);i.a.render(a.a.createElement(g,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.9a3923c1.chunk.js.map