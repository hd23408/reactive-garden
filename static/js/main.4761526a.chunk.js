(this["webpackJsonpreactive-garden"]=this["webpackJsonpreactive-garden"]||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),s=a.n(r),i=(a(30),a(3)),u=a(4),o=a(6),c=a(5),m=a(7),p=a(14),h=a(11),g=a(16),E=a.n(g),b=a(1),d=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.line,a=e.color,n="M "+t.map((function(e){return e.get("x")+" "+e.get("y")})).join(" L ");return l.a.createElement("path",{className:"path",stroke:a,d:n})}}]),t}(n.Component),f=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.turtleLines,t=this.props.visibility;return l.a.createElement("div",null,l.a.createElement("svg",{className:t},e.map((function(e,t){return l.a.createElement(d,{key:t,line:e.get("line"),color:e.get("color")})}))))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a.state={turtleInstructions:b.a.List(),turtleLines:b.a.List(),needsToGrow:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"drawLSystem",value:function(){var e=this,t=this.props.rule,a=t.axiom,n=!0,l=[];"grow"in this.props&&(n="true"===this.props.grow.toLowerCase());var r=!0,s=!1,i=void 0;try{for(var u,o=t.replacements.split(",")[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var c=u.value.split("="),m={findString:c[0].replace(/\(/,"").trim(),newString:c[1].replace(/\)/,"").trim()};l.push(m)}}catch(g){s=!0,i=g}finally{try{r||null==o.return||o.return()}finally{if(s)throw i}}for(var p=function(){var r=e.expandInstructions(a,l,h,!1);if(n||h===t.loops-1){var s=e.runTurtle(r);e.setState((function(e){return{turtleInstructions:e.turtleInstructions.push(r),turtleLines:e.turtleLines.push(s)}}))}a=r},h=0;h<t.loops;h++){p()}this.setState((function(e){return{needsToGrow:!0}}))}},{key:"expandInstructions",value:function(e,t,a,n){var l="";n&&(console.log("----------------"),console.log(" Generation "+a),console.log("Starting with: "+e));var r=!0,s=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var c=u.value,m=!1;if("!"===c)l+="!*",n&&console.log("Replacing ! with !*");else{var p=!0,h=!1,g=void 0;try{for(var E,b=t[Symbol.iterator]();!(p=(E=b.next()).done);p=!0){var d=E.value;if(d.findString===c){m=!0,l+=d.newString,n&&console.log("Replacing "+d.findString+" with "+d.newString);break}}}catch(f){h=!0,g=f}finally{try{p||null==b.return||b.return()}finally{if(h)throw g}}m||(n&&console.log("Adding "+c+" as is"),l+=c)}}}catch(f){s=!0,i=f}finally{try{r||null==o.return||o.return()}finally{if(s)throw i}}return n&&(console.log("Final expansion: "),console.log(l)),l}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"runTurtle",value:function(e){for(var t=e,a=this.props.rule,n=("colorful"in this.props&&"true"===this.props.colorful.toLowerCase()),l=90,r=Number(a.startX),s=Number(a.startY),i=b.a.Stack(),u={visibility:"hidden drawArea",lines:b.a.List()},o=Number(a.angle),c=Number(a.step),m=1,p="#000000",h=0;h<t.length;h++){var g=t.charAt(h);if(n&&(p="#00"+String(m).padStart(4,"0"),m=Math.floor(Math.random()*Math.floor(9999))),"F"===g||"G"===g){var E=new b.a.Map({x:r,y:s});r+=c*Math.cos(this.toRadians(l)),s-=c*Math.sin(this.toRadians(l));var d=new b.a.Map({x:r,y:s});u.lines=u.lines.push(b.a.Map({line:b.a.List([E,d]),color:p}))}else if("!"===g){for(var f=1;h+f<t.length&&"*"===t.charAt(h+f);)f+=1;h=h+f-1;var v=new b.a.Map({x:r,y:s});r+=c*f*Math.cos(this.toRadians(l)),s-=c*f*Math.sin(this.toRadians(l));var y=new b.a.Map({x:r,y:s});u.lines=u.lines.push(b.a.Map({line:b.a.List([v,y]),color:p}))}else if("+"===g)l+=o;else if("-"===g)l-=o;else if("["===g){var F={X:r,Y:s,A:l};i=i.push(F)}else if("]"===g){var X=i.first();i=i.pop(),r=X.X,s=X.Y,l=X.A}}return u}},{key:"grow",value:function(){var e,t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=this.state.turtleLines,this.setState((function(e){return{needsToGrow:!1,inGrowth:!0}})),t=0;case 3:if(!(t<e.size)){a.next=12;break}return 0!==t&&(e.get(t-1).visibility="hidden drawArea"),e.get(t).visibility="drawArea",this.setState((function(t){return{turtleLines:e}})),a.next=9,E.a.awrap(this.sleep(250));case 9:t++,a.next=3;break;case 12:case"end":return a.stop()}}),null,this)}},{key:"UNSAFE_componentWillMount",value:function(){this.drawLSystem()}},{key:"componentDidMount",value:function(){this.grow()}},{key:"shouldComponentUpdate",value:function(e,t){return e.rule!==this.props.rule||this.state.needsToGrow||this.state.inGrowth}},{key:"componentDidUpdate",value:function(e,t){e.rule!==this.props.rule?(this.setState((function(e){return{turtleInstructions:b.a.List(),turtleLines:b.a.List(),needsToGrow:!1,inGrowth:!1}})),this.drawLSystem()):this.state.needsToGrow&&this.grow()}},{key:"render",value:function(){var e=this.state.turtleLines;return l.a.createElement("div",null,e.map((function(e,t){return l.a.createElement(f,{key:t,visibility:e.visibility,turtleLines:e.lines})})))}}]),t}(n.Component),y=a(22),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.submitForm=function(){a.props.handleSubmit(a.state)},a.initialState={angle:e.rule.angle,step:e.rule.step,axiom:e.rule.axiom,replacements:e.rule.replacements,loops:e.rule.loops,startX:e.rule.startX,startY:e.rule.startY},a.state=a.initialState,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.angle,a=e.step,n=e.axiom,r=e.replacements,s=e.loops,i=e.startX,u=e.startY;return l.a.createElement("div",{className:"instructions"},l.a.createElement("h3",null,"Instructions"),l.a.createElement("div",null,'To run an L-System, enter the required information and press "submit". Some notes:',l.a.createElement("ul",null,l.a.createElement("li",null,'The "Replacement Rule" should consist one or more comma-separated replacement rules, of the format "( X = Y )" -- see examples, below'),l.a.createElement("li",null,"The rules use the following symbols:",l.a.createElement("ul",null,l.a.createElement("li",null,"'F' and 'G' each draw a single line segment"),l.a.createElement("li",null,"'+' and '-' rotate the turtle to the left and right respectively (by the defined angle)"),l.a.createElement("li",null,"'[' and ']' store and recall a particular XY coordinate for the turtle (i.e. allow the turtle to return to a previous location)"),l.a.createElement("li",null,"'!' will draw a line segment that is larger if it's older, by a factor of how many generations old it is. In other words, a '!' that is added to the output string in the first loop will be 6 times longer than a '!' that's added to the output string in the sixth loop."),l.a.createElement("li",null,"'X' and 'Y' are no-ops and are used as placeholders in the rules"),l.a.createElement("li",null,"All other characters are ignored"))),l.a.createElement("li",null,"PLEASE don't use more than 6 recursions!"),l.a.createElement("li",null,'If you\'re having trouble seeing the entire resulting drawing, try reducing the "Step Size" to make it smaller'),l.a.createElement("li",null,"NOTE: INPUTS ARE NOT CURRENTLY BEING SANITIZED! If you get an error, probably it's a parsing issue. Check your rules in particular."))),l.a.createElement("hr",null),l.a.createElement("h3",null,"L-System rules"),l.a.createElement("form",null,l.a.createElement("label",null,"Axiom (initial string)"),l.a.createElement("input",{type:"text",name:"axiom",size:"10",value:n,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Replacement Rules"),l.a.createElement("input",{type:"text",name:"replacements",size:"50",value:r,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Angle for Turns"),l.a.createElement("input",{type:"text",name:"angle",size:"5",value:t,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Step Size (length of line)"),l.a.createElement("input",{type:"text",name:"step",size:"5",value:a,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Loops (number of recursions)"),l.a.createElement("input",{type:"text",name:"loops",size:"5",value:s,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Initial X Position"),l.a.createElement("input",{type:"text",name:"startX",size:"5",value:i,onChange:this.handleChange}),l.a.createElement("label",null,"Initial Y Position"),l.a.createElement("input",{type:"text",name:"startY",size:"5",value:u,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm})),l.a.createElement("hr",null),l.a.createElement("h3",null,"Examples"),l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,"Sierpinski triangle:",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: F-G-G"),l.a.createElement("li",null,"Replacement Rules: (F = F-G+F+G-F), (G = GG)"),l.a.createElement("li",null,"Angle: 120"),l.a.createElement("li",null,"Step Size: 7"),l.a.createElement("li",null,"Loops: 6"),l.a.createElement("li",null,"Initial X: 10"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Thorny bush:",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: F"),l.a.createElement("li",null,"Replacement Rules: (F = ![-----F][+++++++F]+![----F][+++++++F]+![---F][+++++F]+!F)"),l.a.createElement("li",null,"Angle: 6"),l.a.createElement("li",null,"Step Size: 25"),l.a.createElement("li",null,"Loops: 3"),l.a.createElement("li",null,"Initial X: 300"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Fractal plant:",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: X"),l.a.createElement("li",null,"Replacement Rules: (X = F+[[X]-X]-F[-FX]+X), (F = FF)"),l.a.createElement("li",null,"Angle: 25"),l.a.createElement("li",null,"Step Size: 3"),l.a.createElement("li",null,"Loops: 6"),l.a.createElement("li",null,"Initial X: 200"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Binary tree:",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: F"),l.a.createElement("li",null,"Replacement Rules: (G = GG), (F = G[+F]-F)"),l.a.createElement("li",null,"Angle: 25"),l.a.createElement("li",null,"Step Size: 4"),l.a.createElement("li",null,"Loops: 7"),l.a.createElement("li",null,"Initial X: 300"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Koch curve",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: F"),l.a.createElement("li",null,"Replacement Rules: (F = F+F-F-F+F)"),l.a.createElement("li",null,"Angle: 90"),l.a.createElement("li",null,"Step Size: 4"),l.a.createElement("li",null,"Loops: 4"),l.a.createElement("li",null,"Initial X: 300"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Dragon curve",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: FX"),l.a.createElement("li",null,"Replacement Rules: (X = X+YF+), (Y = -FX-Y)"),l.a.createElement("li",null,"Angle: 90"),l.a.createElement("li",null,"Step Size: 4"),l.a.createElement("li",null,"Loops: 12 ",l.a.createElement("i",null,"(Dragons get special dispensation for extra loops)")),l.a.createElement("li",null,"Initial X: 300"),l.a.createElement("li",null,"Initial Y: 200"))))))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){a.setState({rule:e})},a.initialState={rule:{angle:"6",step:"25",axiom:"F",replacements:"(F = ![-----F][+++++++F]+![----F][+++++++F]+![---F][+++++F]+!F)",loops:"3",startX:"300",startY:"600"}},a.state=a.initialState,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.rule;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement(F,{handleSubmit:this.handleSubmit,rule:e}),l.a.createElement(v,{rule:e,colorful:"true"})))}}]),t}(n.Component),O=b.a.Map().set("binaryTree",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"1",axiom:"F",replacements:"(G = GG), (F = G[+F]-F)",loops:"6"}}).set("algae",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"20",step:"4",axiom:"F",replacements:"(F = F[+F]F[-F]F)",loops:"3"}}).set("bush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"5",axiom:"X",replacements:"(X = F-[[X]+X]+F[-FX]+X)",loops:"4"}}).set("dragon",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"90",step:"2",axiom:"FX",replacements:"(X = X+YF+), (Y = -FX-Y)",loops:"8"}}).set("fractalPlant",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"2",axiom:"X",replacements:"(X = F+[[X]-X]-F[-FX]+X), (F = FF)",loops:"4"}}).set("thornyBush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"6",step:"5",axiom:"F",replacements:"(F = ![-----F][+++++++F]+![----F][+++++++F]+![---F][+++++F]+!F)",loops:"3"}}),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).initialState={organisms:b.a.List().push(Object.assign({},O.get("binaryTree").rules,{startX:"60",startY:"120"})).push(Object.assign({},O.get("bush").rules,{startX:"180",startY:"120"})).push(Object.assign({},O.get("dragon").rules,{startX:"300",startY:"90"})).push(Object.assign({},O.get("algae").rules,{startX:"420",startY:"120"})).push(Object.assign({},O.get("fractalPlant").rules,{startX:"540",startY:"120"})).push(Object.assign({},O.get("fractalPlant").rules,{startX:"60",startY:"240"})).push(Object.assign({},O.get("binaryTree").rules,{startX:"180",startY:"240"})).push(Object.assign({},O.get("dragon").rules,{startX:"300",startY:"210"})).push(Object.assign({},O.get("algae").rules,{startX:"420",startY:"240"})).push(Object.assign({},O.get("binaryTree").rules,{startX:"540",startY:"240"})).push(Object.assign({},O.get("binaryTree").rules,{startX:"60",startY:"360"})).push(Object.assign({},O.get("thornyBush").rules,{startX:"180",startY:"360"})).push(Object.assign({},O.get("fractalPlant").rules,{startX:"300",startY:"360"})).push(Object.assign({},O.get("dragon").rules,{startX:"420",startY:"330"})).push(Object.assign({},O.get("algae").rules,{startX:"540",startY:"360"})).push(Object.assign({},O.get("dragon").rules,{startX:"60",startY:"450"})).push(Object.assign({},O.get("bush").rules,{startX:"180",startY:"480"})).push(Object.assign({},O.get("dragon").rules,{startX:"300",startY:"450"})).push(Object.assign({},O.get("thornyBush").rules,{startX:"420",startY:"480"})).push(Object.assign({},O.get("fractalPlant").rules,{startX:"540",startY:"480"})).push(Object.assign({},O.get("dragon").rules,{startX:"60",startY:"570"})).push(Object.assign({},O.get("fractalPlant").rules,{startX:"180",startY:"600"})).push(Object.assign({},O.get("dragon").rules,{startX:"300",startY:"570"})).push(Object.assign({},O.get("algae").rules,{startX:"420",startY:"600"})).push(Object.assign({},O.get("fractalPlant").rules,{startX:"540",startY:"600"}))},a.state=a.initialState,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.organisms;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},e.map((function(e,t){return l.a.createElement(v,{rule:e,grow:"0",colorful:"true"})}))))}}]),t}(n.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement("p",null,"Welcome to my garden! This is a safe space for L-System plants to grow and flourish. \xa0 ",l.a.createElement(p.b,{to:"/"},"Home")," | ",l.a.createElement(p.b,{to:"/garden"},"Garden")),l.a.createElement(h.c,null,l.a.createElement(h.a,{path:"/garden"},l.a.createElement(j,null)),l.a.createElement(h.a,{path:"/"},l.a.createElement(X,null))))}}]),t}(n.Component);s.a.render(l.a.createElement(S,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.4761526a.chunk.js.map