(this["webpackJsonpreactive-garden"]=this["webpackJsonpreactive-garden"]||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),s=(a(30),a(3)),i=a(4),u=a(6),c=a(5),p=a(7),m=a(14),h=a(11),g=a(16),f=a.n(g),d=a(1),b=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.line,a=e.color,n="M "+t.map((function(e){return e.get("x")+" "+e.get("y")})).join(" L ");return r.a.createElement("path",{className:"path",stroke:a,d:n})}}]),t}(n.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.turtleLines,t=this.props.visibility;return r.a.createElement("div",null,r.a.createElement("svg",{className:t},e.map((function(e,t){return r.a.createElement(b,{key:t,line:e.get("line"),color:e.get("color")})}))))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a.state={turtleInstructions:d.a.List(),turtleLines:d.a.List(),needsToGrow:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"drawLSystem",value:function(){var e=this,t=this.props.rule,a=t.axiom,n=!0,r=[];"grow"in this.props&&(n="true"===this.props.grow.toLowerCase());var l=!0,o=!1,s=void 0;try{for(var i,u=t.replacements.split(",")[Symbol.iterator]();!(l=(i=u.next()).done);l=!0){var c=i.value.split("="),p={findString:c[0].replace(/\(/,"").trim(),newString:c[1].replace(/\)/,"").trim()};r.push(p)}}catch(g){o=!0,s=g}finally{try{l||null==u.return||u.return()}finally{if(o)throw s}}for(var m=function(){var l=e.expandInstructions(a,r,h,!1);if(n||h===t.loops-1){var o=e.runTurtle(l);e.setState((function(e){return{turtleInstructions:e.turtleInstructions.push(l),turtleLines:e.turtleLines.push(o)}}))}a=l},h=0;h<t.loops;h++){m()}this.setState((function(e){return{needsToGrow:!0}}))}},{key:"expandInstructions",value:function(e,t,a,n){var r="";n&&(console.log("----------------"),console.log(" Generation "+a),console.log("Starting with: "+e));var l=!0,o=!1,s=void 0;try{for(var i,u=e[Symbol.iterator]();!(l=(i=u.next()).done);l=!0){var c=i.value,p=!1;if("!"===c)r+="!*",n&&console.log("Replacing ! with !*");else{var m=!0,h=!1,g=void 0;try{for(var f,d=t[Symbol.iterator]();!(m=(f=d.next()).done);m=!0){var b=f.value;if(b.findString===c){p=!0,r+=b.newString,n&&console.log("Replacing "+b.findString+" with "+b.newString);break}}}catch(C){h=!0,g=C}finally{try{m||null==d.return||d.return()}finally{if(h)throw g}}p||(n&&console.log("Adding "+c+" as is"),r+=c)}}}catch(C){o=!0,s=C}finally{try{l||null==u.return||u.return()}finally{if(o)throw s}}return n&&(console.log("Final expansion: "),console.log(r)),r}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"runTurtle",value:function(e){var t=e,a=this.props.rule,n="colorful"in this.props&&"true"===this.props.colorful.toLowerCase(),r="random";"fColor"in a&&(r=a.fColor),r=r.toUpperCase();var l="random";"gColor"in a&&(l=a.gColor),l=l.toUpperCase();var o="random";"bangColor"in a&&(o=a.bangColor),o=o.toUpperCase();for(var s=90,i=Number(a.startX),u=Number(a.startY),c=d.a.Stack(),p={visibility:"hidden drawArea",lines:d.a.List()},m=Number(a.angle),h=Number(a.step),g=1,f="#000000",b=0;b<t.length;b++){var C=t.charAt(b).toUpperCase();if(n&&(g=Math.floor(Math.random()*Math.floor(9999)),f="#00"+String(g).padStart(4,"0")),"F"===C||"G"===C){var v=new d.a.Map({x:i,y:u});i+=h*Math.cos(this.toRadians(s)),u-=h*Math.sin(this.toRadians(s));var y=new d.a.Map({x:i,y:u});"F"===C&&"RANDOM"!==r&&(f=r),"G"===C&&"RANDOM"!==l&&(f=l),p.lines=p.lines.push(d.a.Map({line:d.a.List([v,y]),color:f}))}else if("!"===C){for(var F=1;b+F<t.length&&"*"===t.charAt(b+F);)F+=1;b=b+F-1,"RANDOM"!==o&&(f=o);var E=new d.a.Map({x:i,y:u});i+=h*F*Math.cos(this.toRadians(s)),u-=h*F*Math.sin(this.toRadians(s));var x=new d.a.Map({x:i,y:u});p.lines=p.lines.push(d.a.Map({line:d.a.List([E,x]),color:f}))}else if("+"===C)s+=m;else if("-"===C)s-=m;else if("["===C){var S={X:i,Y:u,A:s};c=c.push(S)}else if("]"===C){var O=c.first();c=c.pop(),i=O.X,u=O.Y,s=O.A}}return p}},{key:"grow",value:function(){var e,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=this.state.turtleLines,this.setState((function(e){return{needsToGrow:!1,inGrowth:!0}})),t=0;case 3:if(!(t<e.size)){a.next=12;break}return 0!==t&&(e.get(t-1).visibility="hidden drawArea"),e.get(t).visibility="drawArea",this.setState((function(t){return{turtleLines:e}})),a.next=9,f.a.awrap(this.sleep(250));case 9:t++,a.next=3;break;case 12:case"end":return a.stop()}}),null,this)}},{key:"UNSAFE_componentWillMount",value:function(){this.drawLSystem()}},{key:"componentDidMount",value:function(){this.grow()}},{key:"shouldComponentUpdate",value:function(e,t){return e.rule!==this.props.rule||this.state.needsToGrow||this.state.inGrowth}},{key:"componentDidUpdate",value:function(e,t){e.rule!==this.props.rule?(this.setState((function(e){return{turtleInstructions:d.a.List(),turtleLines:d.a.List(),needsToGrow:!1,inGrowth:!1}})),this.drawLSystem()):this.state.needsToGrow&&this.grow()}},{key:"render",value:function(){var e=this.state.turtleLines;return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(C,{key:t,visibility:e.visibility,turtleLines:e.lines})})))}}]),t}(n.Component),y=a(22),F=d.a.Map().set("Sierpinski Triangle",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"120",step:"7",axiom:"F-G-G",replacements:"(F = F-G+F+G-F), (G = GG)",loops:"6",fColor:"RANDOM",gColor:"RANDOM",bangColor:"RANDOM",startX:"10",startY:"600",littleStep:"6",littleLoops:"3"}}).set("Binary Tree",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"4",axiom:"F",replacements:"(G = GG), (F = G[+F]-F)",loops:"7",fColor:"#ff3399",gColor:"#336600",bangColor:"RANDOM",startX:"300",startY:"600",littleStep:"2",littleLoops:"5"}}).set("Algae",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"20",step:"15",axiom:"F",replacements:"(F = F[+F]F[-F]F)",loops:"3",fColor:"RANDOM",gColor:"RANDOM",bangColor:"RANDOM",startX:"300",startY:"600",littleStep:"3",littleLoops:"3"}}).set("Berry Bush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"4",axiom:"F",replacements:"(F = G[+F][-F]GF), (G = GG)",loops:"6",fColor:"#ff3399",gColor:"#336600",bangColor:"#009973",startX:"300",startY:"600",littleStep:"3",littleLoops:"4"}}).set("Little Bush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"23",step:"20",axiom:"X",replacements:"(X = F-[[X]+X]+F[-FX]+X)",loops:"5",fColor:"RANDOM",gColor:"RANDOM",bangColor:"RANDOM",startX:"300",startY:"600",littleStep:"6",littleLoops:"4"}}).set("Dragon Curve",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"90",step:"4",axiom:"FX",replacements:"(X = X+YG+), (Y = -FX-Y), (G = F)",loops:"12",fColor:"#ac3939",gColor:"#e60000",bangColor:"RANDOM",startX:"300",startY:"200",littleStep:"3",littleLoops:"8"}}).set("Fractal Plant",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"7",axiom:"X",replacements:"(X = F+[[X]-X]-F[-GX]+X), (F = FF), (G = GG)",loops:"5",fColor:"#336600",gColor:"#336600",bangColor:"RANDOM",startX:"300",startY:"600",littleStep:"2",littleLoops:"4"}}).set("Thorny Bush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"6",step:"25",axiom:"F",replacements:"(F = ![-----F][+++++++F]+![----F][+++++++F]+![---F][+++++F]+!F)",loops:"3",fColor:"#99e6ff",gColor:"RANDOM",bangColor:"RANDOM",startX:"400",startY:"600",littleStep:"4",littleLoops:"3"}}).set("Bushy Tree",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"15",step:"9",axiom:"!F",replacements:"(F=FF-[-F+F+F]+[+F-G-G]), (G=F)",loops:"4",fColor:"#996600",gColor:"#ffaa80",bangColor:"#996600",startX:"300",startY:"600",littleStep:"3",littleLoops:"3"}}).set("Thistle",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"20",step:"8",axiom:"!!GF",replacements:"(F=GGG-[-F+F+F]+[+F-F+F])",loops:"4",fColor:"#ff3399",gColor:"#336600",bangColor:"RANDOM",startX:"300",startY:"600",littleStep:"2",littleLoops:"3"}}).set("Koch Curve",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"90",step:"6",axiom:"-F",replacements:"(F = F+F-F-F+F)",loops:"4",fColor:"RANDOM",gColor:"RANDOM",bangColor:"RANDOM",startX:"50",startY:"600",littleStep:"3",littleLoops:"3"}}).set("Kolam",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"15",step:"10",axiom:"GGGG",replacements:"(G = X+X+X+X+X+X+), (X = [F+F+F+F[---X-Y]+++++F++++++++F-F-F-F]), (Y = [F+F+F+F[---Y]+++++F++++++++F-F-F-F])",loops:"5",fColor:"#ff944d",gColor:"#00ace6",bangColor:"RANDOM",startX:"300",startY:"300",littleStep:"5",littleLoops:"2"}}),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(y.a)({},n,r))},a.fillRules=function(e){a.setState(e,(function(){return a.submitForm()}))},a.submitForm=function(){a.props.handleSubmit(a.state)},a.initialState={angle:e.rule.angle,step:e.rule.step,axiom:e.rule.axiom,replacements:e.rule.replacements,loops:e.rule.loops,startX:e.rule.startX,startY:e.rule.startY,fColor:e.rule.fColor,gColor:e.rule.gColor,bangColor:e.rule.bangColor},a.state=a.initialState,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.angle,a=e.step,n=e.axiom,l=e.replacements,o=e.loops,s=e.startX,i=e.startY,u=e.fColor,c=e.gColor,p=e.bangColor,m=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"instructions"},r.a.createElement("h3",null,"Instructions"),'To run an L-System, enter the required information and press "submit". Some notes:',r.a.createElement("ul",null,r.a.createElement("li",null,'The "Replacement Rule" should consist one or more comma-separated replacement rules, of the format "( X = Y )" -- see examples, below'),r.a.createElement("li",null,"The rules use the following symbols:",r.a.createElement("ul",null,r.a.createElement("li",null,"'F' and 'G' each draw a single line segment"),r.a.createElement("li",null,"'+' and '-' rotate the turtle to the left and right respectively (by the defined angle)"),r.a.createElement("li",null,"'[' and ']' store and recall a particular XY coordinate for the turtle (i.e. allow the turtle to return to a previous location)"),r.a.createElement("li",null,"'!' will draw a line segment that is larger if it's older, by a factor of how many generations old it is. In other words, a '!' that is added to the output string in the first loop will be 6 times longer than a '!' that's added to the output string in the sixth loop."),r.a.createElement("li",null,"'X' and 'Y' are no-ops and are used as placeholders in the rules"),r.a.createElement("li",null,"All other characters are ignored"))),r.a.createElement("li",null,"PLEASE don't use more than 6 recursions!"),r.a.createElement("li",null,'If you\'re having trouble seeing the entire resulting drawing, try reducing the "Step Size" to make it smaller'),r.a.createElement("li",null,'You can also use the "F Color", "G Color" and "\'!\' Color" fields to set colors for the various letters. If using hex colors, please include the "#" at the beginning! (Set these to the string \'random\' if you want it to just choose some random colors from the blue-green spectrum for each line.)'),r.a.createElement("li",null,"NOTE: INPUTS ARE NOT CURRENTLY BEING SANITIZED! If you get an error, probably it's a parsing issue. Check your rules in particular."))),r.a.createElement("div",{className:"instructions"},r.a.createElement("h3",null,"L-System rules"),r.a.createElement("form",null,r.a.createElement("label",null,"Axiom (initial string)"),r.a.createElement("input",{type:"text",name:"axiom",size:"10",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Replacement Rules"),r.a.createElement("input",{type:"text",name:"replacements",size:"50",value:l,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Angle for Turns"),r.a.createElement("input",{type:"text",name:"angle",size:"5",value:t,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Step Size (length of line)"),r.a.createElement("input",{type:"text",name:"step",size:"5",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Loops (number of recursions)"),r.a.createElement("input",{type:"text",name:"loops",size:"5",value:o,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Initial X Position"),r.a.createElement("input",{type:"text",name:"startX",size:"5",value:s,onChange:this.handleChange}),r.a.createElement("label",null,"Initial Y Position"),r.a.createElement("input",{type:"text",name:"startY",size:"5",value:i,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"'F' Color"),r.a.createElement("input",{type:"text",name:"fColor",size:"8",value:u,onChange:this.handleChange}),r.a.createElement("label",null,"'G' Color"),r.a.createElement("input",{type:"text",name:"gColor",size:"8",value:c,onChange:this.handleChange}),r.a.createElement("label",null,"'!' Color"),r.a.createElement("input",{type:"text",name:"bangColor",size:"8",value:p,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm}))),r.a.createElement("div",{className:"examples"},r.a.createElement("h3",null,"Examples"),r.a.createElement("p",null,"Click on the name to try it out! Rules will be auto-populated in the form to the right."),r.a.createElement("ul",{className:"columns"},F.toArray().map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("button",{onClick:function(){return m.fillRules({axiom:e[1].rules.axiom,replacements:e[1].rules.replacements,angle:e[1].rules.angle,step:e[1].rules.step,loops:e[1].rules.loops,startX:e[1].rules.startX,startY:e[1].rules.startY,fColor:e[1].rules.fColor,gColor:e[1].rules.gColor,bangColor:e[1].rules.bangColor})}},r.a.createElement("strong",null,e[0])))})))))}}]),t}(n.Component),x=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){a.setState({rule:e})};var n=F.toList(),r=n.size,l=Math.floor(Math.random()*Math.floor(r)),o=n.get(l).rules;return a.initialState={rule:o},a.state=a.initialState,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.rule;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(E,{handleSubmit:this.handleSubmit,rule:e}),r.a.createElement(v,{rule:e,colorful:"true"})))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).shuffle=function(){for(var e=F.toList(),t=e.size,n=d.a.List(),r=60;r<=540;r+=120)for(var l=120;l<=600;l+=120){var o=Math.floor(Math.random()*Math.floor(t)),s=e.get(o).rules;n=n.push(Object.assign({},s,{startX:r,startY:l,step:s.littleStep,loops:s.littleLoops}))}a.setState({organisms:n})},a.initialState={organisms:d.a.List()},a.state=a.initialState,a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.shuffle()}},{key:"render",value:function(){var e=this.state.organisms;return r.a.createElement("div",null,r.a.createElement("div",{className:"button"},r.a.createElement("button",{onClick:this.shuffle},"Shuffle")),r.a.createElement("div",{className:"container"},e.map((function(e,t){return r.a.createElement(v,{key:t,rule:e,grow:"0",colorful:"true"})}))))}}]),t}(n.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("p",null,"Welcome to my garden! This is a safe space for L-System plants to grow and flourish. \xa0 ",r.a.createElement(m.b,{to:"/"},"Home")," | ",r.a.createElement(m.b,{to:"/garden"},"Garden")),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/garden"},r.a.createElement(S,null)),r.a.createElement(h.a,{path:"/"},r.a.createElement(x,null))))}}]),t}(n.Component);o.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.b0d42425.chunk.js.map