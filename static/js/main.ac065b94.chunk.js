(this["webpackJsonpreactive-garden"]=this["webpackJsonpreactive-garden"]||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),s=a.n(r),i=(a(30),a(2)),u=a(3),c=a(5),o=a(4),m=a(6),p=a(14),h=a(11),g=a(16),b=a.n(g),E=a(7),d=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e="M "+this.props.line.map((function(e){return e.get("x")+" "+e.get("y")})).join(" L ");return l.a.createElement("path",{className:"path",stroke:"black",d:e})}}]),t}(n.Component),f=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.turtleLines,t=this.props.visibility;return l.a.createElement("div",null,l.a.createElement("svg",{className:t},e.map((function(e,t){return l.a.createElement(d,{key:t,line:e})}))))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a.state={turtleInstructions:E.a.List(),turtleLines:E.a.List(),needsToGrow:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"drawLSystem",value:function(){var e=this,t=this.props.rule,a=t.axiom,n=!0;"grow"in this.props&&(n="true"===this.props.grow.toLowerCase());for(var l=function(){var l=e.expandInstructions(a),s=e.runTurtle(l);(n||r===t.loops-1)&&e.setState((function(e){return{turtleInstructions:e.turtleInstructions.push(l),turtleLines:e.turtleLines.push(s)}})),a=l},r=0;r<t.loops;r++){l()}this.setState((function(e){return{needsToGrow:!0}}))}},{key:"expandInstructions",value:function(e){var t="",a=[],n=this.props.rule,l=!0,r=!1,s=void 0;try{for(var i,u=n.replacements.split(",")[Symbol.iterator]();!(l=(i=u.next()).done);l=!0){var c=i.value.split("="),o={findString:c[0].replace(/\(/,"").trim(),newString:c[1].replace(/\)/,"").trim()};a.push(o)}}catch(F){r=!0,s=F}finally{try{l||null==u.return||u.return()}finally{if(r)throw s}}var m=!0,p=!1,h=void 0;try{for(var g,b=e[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var E=g.value,d=!1,f=!0,v=!1,y=void 0;try{for(var X,O=a[Symbol.iterator]();!(f=(X=O.next()).done);f=!0){var j=X.value;if(j.findString===E){d=!0,t+=j.newString;break}}}catch(F){v=!0,y=F}finally{try{f||null==O.return||O.return()}finally{if(v)throw y}}d||(t+=E)}}catch(F){p=!0,h=F}finally{try{m||null==b.return||b.return()}finally{if(p)throw h}}return t}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"runTurtle",value:function(e){var t=e,a=this.props.rule,n=90,l=Number(a.startX),r=Number(a.startY),s=E.a.Stack(),i={visibility:"hidden drawArea",lines:E.a.List()},u=Number(a.angle),c=Number(a.step),o=!0,m=!1,p=void 0;try{for(var h,g=t[Symbol.iterator]();!(o=(h=g.next()).done);o=!0){var b=h.value;if("F"===b||"G"===b){var d=new E.a.Map({x:l,y:r});l+=c*Math.cos(this.toRadians(n)),r-=c*Math.sin(this.toRadians(n));var f=new E.a.Map({x:l,y:r});i.lines=i.lines.push(E.a.List([d,f]))}else if("+"===b)n+=u;else if("-"===b)n-=u;else if("["===b){var v={X:l,Y:r,A:n};s=s.push(v)}else if("]"===b){var y=s.first();s=s.pop(),l=y.X,r=y.Y,n=y.A}}}catch(X){m=!0,p=X}finally{try{o||null==g.return||g.return()}finally{if(m)throw p}}return i}},{key:"grow",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=this.state.turtleLines,this.setState((function(e){return{needsToGrow:!1,inGrowth:!0}})),t=0;case 3:if(!(t<e.size)){a.next=12;break}return 0!==t&&(e.get(t-1).visibility="hidden drawArea"),e.get(t).visibility="drawArea",this.setState((function(t){return{turtleLines:e}})),a.next=9,b.a.awrap(this.sleep(250));case 9:t++,a.next=3;break;case 12:case"end":return a.stop()}}),null,this)}},{key:"componentWillMount",value:function(){this.drawLSystem()}},{key:"componentDidMount",value:function(){this.grow()}},{key:"shouldComponentUpdate",value:function(e,t){return e.rule!==this.props.rule||this.state.needsToGrow||this.state.inGrowth}},{key:"componentDidUpdate",value:function(e,t){e.rule!==this.props.rule?(this.setState((function(e){return{turtleInstructions:E.a.List(),turtleLines:E.a.List(),needsToGrow:!1,inGrowth:!1}})),this.drawLSystem()):this.state.needsToGrow&&this.grow()}},{key:"render",value:function(){var e=this.state.turtleLines;return l.a.createElement("div",null,e.map((function(e,t){return l.a.createElement(f,{visibility:e.visibility,turtleLines:e.lines})})))}}]),t}(n.Component),y=a(22),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.submitForm=function(){a.props.handleSubmit(a.state)},a.initialState={angle:e.rule.angle,step:e.rule.step,axiom:e.rule.axiom,replacements:e.rule.replacements,loops:e.rule.loops,startX:e.rule.startX,startY:e.rule.startY},a.state=a.initialState,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.angle,a=e.step,n=e.axiom,r=e.replacements,s=e.loops,i=e.startX,u=e.startY;return l.a.createElement("div",{className:"instructions"},l.a.createElement("h3",null,"Instructions"),l.a.createElement("p",null,'To run an L-System, enter the required information and press "submit". Some notes:',l.a.createElement("ul",null,l.a.createElement("li",null,'The "Replacement Rule" should consist one or more comma-separated replacement rules, of the format "( X = Y )" -- see examples, below'),l.a.createElement("li",null,"The rules use the following symbols:",l.a.createElement("ul",null,l.a.createElement("li",null,"'F' and 'G' each draw a single line segment"),l.a.createElement("li",null,"'+' and '-' rotate the turtle to the left and right respectively (by the defined angle)"),l.a.createElement("li",null,"'[' and ']' store and recall a particular XY coordinate for the turtle (i.e. allow the turtle to return to a previous location)"),l.a.createElement("li",null,"'X' and 'Y' are no-ops and are used as placeholders in the rules"),l.a.createElement("li",null,"All other characters are ignored"))),l.a.createElement("li",null,"PLEASE don't use more than 6 recursions!"),l.a.createElement("li",null,'If you\'re having trouble seeing the entire resulting drawing, try reducing the "Step Size" to make it smaller'),l.a.createElement("li",null,"NOTE: INPUTS ARE NOT CURRENTLY BEING SANITIZED! If you get an error, probably it's a parsing issue. Check your rules in particular."))),l.a.createElement("hr",null),l.a.createElement("h3",null,"L-System rules"),l.a.createElement("form",null,l.a.createElement("label",null,"Axiom (initial string)"),l.a.createElement("input",{type:"text",name:"axiom",size:"10",value:n,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Replacement Rules"),l.a.createElement("input",{type:"text",name:"replacements",size:"50",value:r,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Angle for Turns"),l.a.createElement("input",{type:"text",name:"angle",size:"5",value:t,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Step Size (length of line)"),l.a.createElement("input",{type:"text",name:"step",size:"5",value:a,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Loops (number of recursions)"),l.a.createElement("input",{type:"text",name:"loops",size:"5",value:s,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",null,"Initial X Position"),l.a.createElement("input",{type:"text",name:"startX",size:"5",value:i,onChange:this.handleChange}),l.a.createElement("label",null,"Initial Y Position"),l.a.createElement("input",{type:"text",name:"startY",size:"5",value:u,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm})),l.a.createElement("hr",null),l.a.createElement("h3",null,"Examples"),l.a.createElement("p",null,l.a.createElement("ul",null,l.a.createElement("li",null,"Sierpinski triangle:",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: F-G-G"),l.a.createElement("li",null,"Replacement Rules: (F = F-G+F+G-F), (G = GG)"),l.a.createElement("li",null,"Angle: 120"),l.a.createElement("li",null,"Step Size: 7"),l.a.createElement("li",null,"Loops: 6"),l.a.createElement("li",null,"Initial X: 10"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Fractal plant:",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: X"),l.a.createElement("li",null,"Replacement Rules: (X = F+[[X]-X]-F[-FX]+X), (F = FF)"),l.a.createElement("li",null,"Angle: 25"),l.a.createElement("li",null,"Step Size: 3"),l.a.createElement("li",null,"Loops: 6"),l.a.createElement("li",null,"Initial X: 200"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Binary tree:",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: F"),l.a.createElement("li",null,"Replacement Rules: (G = GG), (F = G[+F]-F)"),l.a.createElement("li",null,"Angle: 25"),l.a.createElement("li",null,"Step Size: 4"),l.a.createElement("li",null,"Loops: 7"),l.a.createElement("li",null,"Initial X: 300"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Koch curve",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: F"),l.a.createElement("li",null,"Replacement Rules: (F = F+F-F-F+F)"),l.a.createElement("li",null,"Angle: 90"),l.a.createElement("li",null,"Step Size: 4"),l.a.createElement("li",null,"Loops: 4"),l.a.createElement("li",null,"Initial X: 300"),l.a.createElement("li",null,"Initial Y: 600"))),l.a.createElement("li",null,"Dragon curve",l.a.createElement("ul",null,l.a.createElement("li",null,"Axiom: FX"),l.a.createElement("li",null,"Replacement Rules: (X = X+YF+), (Y = -FX-Y)"),l.a.createElement("li",null,"Angle: 90"),l.a.createElement("li",null,"Step Size: 4"),l.a.createElement("li",null,"Loops: 12 ",l.a.createElement("i",null,"(Dragons get special dispensation for extra loops)")),l.a.createElement("li",null,"Initial X: 300"),l.a.createElement("li",null,"Initial Y: 200"))))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).handleSubmit=function(e){a.setState({rule:e})},a.initialState={rule:{angle:"25",step:"4",axiom:"F",replacements:"(G = GG), (F = G[+F]-F)",loops:"7",startX:"300",startY:"600"}},a.state=a.initialState,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.rule;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement(X,{handleSubmit:this.handleSubmit,rule:e}),l.a.createElement(v,{rule:e})))}}]),t}(n.Component),j=E.a.Map().set("binaryTree",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"1",axiom:"F",replacements:"(G = GG), (F = G[+F]-F)",loops:"6"}}).set("algae",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"20",step:"4",axiom:"F",replacements:"(F = F[+F]F[-F]F)",loops:"3"}}).set("bush",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"5",axiom:"X",replacements:"(X = F-[[X]+X]+F[-FX]+X)",loops:"4"}}).set("dragon",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"90",step:"2",axiom:"FX",replacements:"(X = X+YF+), (Y = -FX-Y)",loops:"8"}}).set("fractalPlant",{resources:{nitrogen:"-1",oxygen:"+1",carbonDioxide:"-1"},rules:{angle:"25",step:"2",axiom:"X",replacements:"(X = F+[[X]-X]-F[-FX]+X), (F = FF)",loops:"4"}}),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).initialState={organisms:E.a.List().push(Object.assign({},j.get("binaryTree").rules,{startX:"60",startY:"120"})).push(Object.assign({},j.get("bush").rules,{startX:"180",startY:"120"})).push(Object.assign({},j.get("dragon").rules,{startX:"300",startY:"90"})).push(Object.assign({},j.get("algae").rules,{startX:"420",startY:"120"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"540",startY:"120"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"60",startY:"240"})).push(Object.assign({},j.get("binaryTree").rules,{startX:"180",startY:"240"})).push(Object.assign({},j.get("dragon").rules,{startX:"300",startY:"210"})).push(Object.assign({},j.get("algae").rules,{startX:"420",startY:"240"})).push(Object.assign({},j.get("binaryTree").rules,{startX:"540",startY:"240"})).push(Object.assign({},j.get("binaryTree").rules,{startX:"60",startY:"360"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"180",startY:"360"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"300",startY:"360"})).push(Object.assign({},j.get("dragon").rules,{startX:"420",startY:"330"})).push(Object.assign({},j.get("algae").rules,{startX:"540",startY:"360"})).push(Object.assign({},j.get("dragon").rules,{startX:"60",startY:"450"})).push(Object.assign({},j.get("bush").rules,{startX:"180",startY:"480"})).push(Object.assign({},j.get("dragon").rules,{startX:"300",startY:"450"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"420",startY:"480"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"540",startY:"480"})).push(Object.assign({},j.get("dragon").rules,{startX:"60",startY:"570"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"180",startY:"600"})).push(Object.assign({},j.get("dragon").rules,{startX:"300",startY:"570"})).push(Object.assign({},j.get("algae").rules,{startX:"420",startY:"600"})).push(Object.assign({},j.get("fractalPlant").rules,{startX:"540",startY:"600"}))},a.state=a.initialState,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.organisms;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},e.map((function(e,t){return l.a.createElement(v,{rule:e,grow:"0"})}))))}}]),t}(n.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement("p",null,"Welcome to my garden! This is a safe space for L-System plants to grow and flourish. \xa0 ",l.a.createElement(p.b,{to:"/"},"Home")," | ",l.a.createElement(p.b,{to:"/garden"},"Garden")),l.a.createElement(h.c,null,l.a.createElement(h.a,{path:"/garden"},l.a.createElement(F,null)),l.a.createElement(h.a,{path:"/"},l.a.createElement(O,null))))}}]),t}(n.Component);s.a.render(l.a.createElement(S,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.ac065b94.chunk.js.map